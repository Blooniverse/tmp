/* Base themes */
:root{
  --bg:hsla(202,80%,15%, 1); --fg:#e6edf3; --muted:#9da7b3; --brand:#61dafb; --card:#151a23; --accent:#00c2ff;
  --border:#222a35; --line:#263044; --pill-bg:#0b3d4b; --pill-fg:#c7f1ff;
}
/* Light theme variables */
:root[data-theme="light"]{
  --bg:#f7f9fc; --fg:#0b1220; --muted:#5b6571; --brand:#0068b8; --card:#ffffff; --accent:#0066cc;
  --border:#d9e1ea; --line:#cbd6e0; --pill-bg:#e6f4ff; --pill-fg:#003b73;
}
/* Respect user preference by default */
@media (prefers-color-scheme: light){
  :root:not([data-theme]){ color-scheme: light; }
}
@media (prefers-color-scheme: dark){
  :root:not([data-theme]){ color-scheme: dark; }
}

*{box-sizing:border-box}

html,body{height:100%}

body{
  margin: 0;
  font-family: system-ui, sans-serif;
  /* monospace, Consolas */
  font-weight: 400;
  font-style: normal;
  font-variant: normal;
  background: var(--bg);
  color: var(--fg);
  line-height: 1.3;
}

/* Layout */
.container {max-width: 1300px; margin: 0 auto; padding: 0 1rem; }
header {background: linear-gradient(180deg, color-mix(in srgb, var(--brand) 30%, transparent 70%), transparent 80%); padding-bottom: 0.5rem; }
footer {background: linear-gradient(000deg, color-mix(in srgb, var(--brand) 20%, transparent 80%), transparent 60%); font-size:.95rem; color:var(--muted); }
header div.container{border-bottom: 2px dotted #777777; }
.pill{display:inline-block;padding:.2rem .6rem;border-radius:999px;background:var(--pill-bg);color:var(--pill-fg);font-size:.85rem;margin-bottom:1rem}
h1{margin:0 0 .5rem;font-size:2rem}
h2{margin:.25rem 0 0;font-weight:500;color:var(--muted)}
a{color:var(--brand);text-decoration:none}
a:hover{text-decoration:underline}

main {
  background: linear-gradient(180deg, color-mix(in srgb, var(--brand) 20%, transparent 80%), transparent 50%);
  border-color: color-mix(in srgb, var(--brand) 35%, var(--line) 65%);
  box-shadow: 0 6px 18px rgba(0,0,0,0.25);
  padding: 1rem;
  border-radius: .6rem;
  border: 1px solid #1c2330;
  border-color: var(--border);
}
select#scenario, select#license {
  background: color-mix(in srgb, var(--fg) 80%, transparent 20%);
  color: var(--bg);
  border-color: var(--line);
}

/* Calculator */
.calc{display:grid;grid-template-columns:1fr;gap:1rem}
.row{display:grid;gap:.6rem}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
.grid-3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:1rem}
label{color:#cbd6e0;color:var(--muted);font-size:.95rem}
input[type=range]{width:100%}
input[type=number],input[type=email],input[type=text],select{width:100%;padding:.45rem .5rem;background:#0b1220;background:color-mix(in srgb,var(--bg) 80%,#000 20%);color:var(--fg);border:1px solid color-mix(in srgb,var(--line) 30%,#000 70%)}
.out{background:#0b1220;background:color-mix(in srgb,var(--bg) 80%,#000 20%);border:1px solid var(--line);border-radius:.6rem;padding:1rem}
.muted{color:var(--muted)}
fieldset{border:1px solid var(--line);border-radius:.6rem;padding:1rem}
legend{color:#cfe8ff;color:var(--fg);opacity:.9;padding:0 .25rem}
label.inline{display:flex;align-items:center;gap:.5rem}
label.inline input[type=checkbox]{transform:scale(1.2)}
.note{font-size:.9rem;color:#9da7b3;color:var(--muted)}
#scenarioNote {display:none}
.actions{display:flex;gap:.5rem;align-items:center;margin:.5rem 0 0;flex-wrap:wrap}
.btn{background:var(--pill-bg);color:var(--pill-fg);border:1px solid color-mix(in srgb,var(--pill-bg) 60%,#000 40%);padding:.45rem .6rem;border-radius:.4rem;cursor:pointer}
.btn.secondary{background:color-mix(in srgb,var(--pill-bg) 70%,#000 30%)}
.btn:disabled{opacity:.6;cursor:not-allowed}
.toast{font-size:.9rem;color:#9de2ff}

/* Totals section styling */
.totals-section {
  background: color-mix(in srgb, var(--bg) 80%, #000 20%);
  border: 1px dotted #777777;
  border-radius: .6rem;
  padding: 1rem;
  margin-bottom: 1rem;
}
.total-item {
  font-size: 1.3rem;
  margin-bottom: 0.4rem;
}
.total-item:last-child {
  margin-bottom: 0;
}

/* Accordion styles for fieldsets */
fieldset {
  position: relative;
}
fieldset legend {
  cursor: pointer;
  user-select: none;
  position: relative;
  padding-right: 1.5rem;
}
fieldset legend::after {
  content: 'â–¼';
  position: absolute;
  right: 0;
  transition: transform 0.2s ease;
}
fieldset.collapsed legend::after {
  transform: rotate(-90deg);
}
fieldset.collapsed > :not(legend) {
  display: none;
}
/* Fieldset with accordion */
fieldset.service-accordion{background:linear-gradient(180deg,color-mix(in srgb,var(--brand) 30%,transparent 70%),transparent 70%);border-color:color-mix(in srgb,var(--brand) 35%,var(--line) 65%);box-shadow:0 6px 18px rgba(0,0,0,0.25)}

/* Quote panel */
#quotePanel{margin-top:1rem;max-height:0;overflow:hidden;transition:max-height 0.3s ease}
#quotePanel.open{max-height:500px !important}
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
.form-actions{margin-top:.75rem}

/* Toast notification */
#toast{position:fixed;bottom:2rem;right:2rem;padding:1rem;background:#333;color:#fff;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.3);z-index:50;transition:opacity 0.3s ease}
#toast:empty{display:none}

/* Toggle label styling */
.toggle-label{display:flex;align-items:center;gap:.5rem}
.toggle-label input[type=checkbox]{width:auto}
.toggle-label input[type=number]{width:80px;margin:0 .25rem}

/* Button styling */
button{background:var(--pill-bg);color:var(--pill-fg);border:1px solid color-mix(in srgb,var(--pill-bg) 60%,#000 40%);padding:.6rem 1rem;border-radius:.4rem;cursor:pointer;font-size:1rem}
button:hover{opacity:0.9}
button:disabled{opacity:.6;cursor:not-allowed}

/* Hamburger + drawer */
#menuBtn{position:absolute;top:1rem;right:1rem;background:transparent;border:1px solid var(--line);color:var(--fg);padding:.4rem .5rem;border-radius:.4rem;cursor:pointer}
#menuBtn:focus{outline:2px solid var(--brand)}
.drawer{position:fixed;inset:0 0 0 auto;width:280px;max-width:80vw;background:var(--card);border-left:1px solid var(--border);transform:translateX(100%);transition:transform .2s ease;z-index:40;display:flex;flex-direction:column}
.drawer.open{transform:translateX(0)}
.menu{padding:1rem}
.menu a{display:block;padding:.6rem 0}
.scrim{position:fixed;inset:0;background:rgba(0,0,0,.4);backdrop-filter:saturate(120%) blur(1px);opacity:0;pointer-events:none;transition:opacity .2s ease;z-index:30}
.scrim.open{opacity:1;pointer-events:auto}

/* Theme toggle */
.switch{display:flex;align-items:center;gap:.5rem;padding:.25rem 0}
.switch input[type=checkbox]{width:1.25rem;height:1.25rem}

/* Utility */
.hr-divider {
  border: 0;
  border-bottom: 1px solid var(--line);
  margin: .5rem 0;
}
.mt-05 { margin-top: .5rem; }
.h3-tight { margin: 0 0 .6rem; }
.h2-subtle { margin: .25rem 0 0; font-weight: 500; color: var(--muted); }
.card { margin-top: 2rem; padding: 1rem; background: var(--card-bg, #f9f9f9); border-radius: 8px; }
.actions-row { margin-top: 1.5rem; display: flex; gap: 1rem; flex-wrap: wrap; }
.actions-row .btn { flex: 1; min-width: 200px; }
.form-card { padding: 1rem; background: var(--card-bg, #f9f9f9); border-radius: 8px; }
.muted-small { margin-top: .5rem; font-size: .85rem; }
.toast-fixed { position: fixed; bottom: 2rem; right: 2rem; padding: 1rem; background: #333; color: #fff; border-radius: 8px; display: none; }
.lang-block { margin-top: .5rem; }


